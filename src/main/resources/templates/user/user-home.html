<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>User Home</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/user/user-home.css">
</head>
<body>

<h1>Добро пожаловать, <span th:text="${user.getFirstName()}"></span>!</h1>
<p class="email" th:text="${user.getEmail()}"></p>
<p id="id" style="display: none" th:text="${user.getId()}"></p>

<div class="button-group">
    <br>
    <a th:href="@{/users/edit}" class="button-link green">Изменить профиль</a>
    <!-- <a th:href="@{/users/delete}" class="button-link red">Удалить аккаунт</a> -->
    <a th:href="@{/logout}" class="button-link red">Выйти</a>
    <div th:if="${user.getRole() == 'ROLE_ADMIN'}">
    <a th:href="@{/admin/home}" class="button-link">Панель администратора</a>
    </div>

    <div th:if="${user.getRole() == 'ROLE_LIBRARIAN'}">
    <a th:href="@{/users/librarian}" class="button-link">All Reservations</a>
    </div>

    <a th:href="@{/reservations(userId=${user.getId()})}" class="button-link">Мои бронирования</a>
    <br><br><br><br><br>
    <a th:href="@{/favoriteBooks}" class="button-link">Избранное</a>
    <a th:href="@{/}" class="button-link">Main page</a>
</div>

<script>
    let id = document.getElementById("id").textContent;
    localStorage.setItem("id", id);
</script>

</body>
</html>
